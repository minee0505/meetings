### 🗓️ 2025년 8월 5일 회의

| 항목        | 내용                                                                   |
|-------------|------------------------------------------------------------------------|
| 주요 논의   | 회원 흐름 기반 테이블 정비, 엔티티 구조 확정, 기능 흐름 기반 개발 범위 정리 |
| 오늘의 To Do | 유저 시나리오 흐름 정리, 테이블 리팩토링 확정, Enum 활용 정의 정비 등        |

---

## 1️⃣ 사용자 흐름 기반 기능 시나리오

```
회원가입 →
  로그인 →
    모임 만들기 →
      모임 게시판 소통 →
        오프라인 모임 →
          방장: 출석 여부 판단 → 종료 →
            후기 작성 (좋아요)
    →
    마이페이지 →
      내가 참여한 모임 목록
      →
      후기 좋아요 기록
      →
      프로필 수정
```

- 흐름에 따라 **엔티티 구조**와 **상태 전이**를 명확하게 정리할 필요성 도출
- `meeting_participant.status` 필드로 상태 전이 관리 가능 (PENDING → APPROVED → ATTENDED 등)

---

## 2️⃣ 테이블 리팩토링 주요 포인트

| 테이블          | 리팩토링 방향                                                               |
|------------------|---------------------------------------------------------------------------|
| `meeting`        | 기존 테이블 구조 유지, 명확한 용어(`leader_id` → `host_id`, `name` → `title`) 사용 |
| `user`           | 닉네임, 이메일 분리 명확 / 프로필 이미지 및 소개 등 UI 기반 확장 가능 요소 추가     |
| `meeting_participant` | 신청 + 승인 + 출석까지 **단일 테이블**에서 통합 관리 (Enum 상태값으로 처리)         |
| `meeting_review` | 후기 작성 기능 → 좋아요 기반 리뷰 (좋아요 주체/받는 사람 명확화)                     |
| `post` / `comment` | 모임별 게시판 기능 / 댓글 기능 → 자유 커뮤니티 및 활동 기록으로 확장 가능              |

> ✅ **테이블 간 관계는 모두 명시적 외래 키 없이 애플리케이션에서 검증하여 처리**  
> ✅ **이로 인해 JPA 상에서도 관계 설정은 `@ManyToOne` 중심으로 명확히 정의함**

---

## 3️⃣ JPA 엔티티 구조 확정

| 엔티티              | 핵심 구성 필드 및 특징                                                       |
|----------------------|---------------------------------------------------------------------------|
| `Meeting`            | 모임 제목, 설명, 책 제목/저자, 시간, 장소, 최대 인원 등 명확하게 정의             |
| `User`               | 이메일, 비밀번호, 닉네임, 연락처 등 로그인 및 기본 사용자 정보 관리                 |
| `MeetingApplication` | 신청 상태를 Enum으로 관리 (PENDING, APPROVED, REJECTED)                        |
| `MeetingParticipant` | 출석 상태 및 승인 상태 통합 관리 (PENDING, APPROVED, ATTENDED 등)               |
| `MeetingReview`      | `reviewer`와 `reviewee` 명확히 구분 → 후기에 대한 좋아요를 관리                    |
| `Post`, `Comment`    | 게시판 및 댓글 기능용, 모임과 사용자 연결 관계 명확히 지정                        |

> 🧩 **Enum 클래스를 분리 관리함으로써 상태 전이를 깔끔하게 유지할 수 있음**

---

## 4️⃣ 명확한 상태 흐름 정리 (Participant & Review 중심)

| 흐름 단계     | 참여자 입장 (사용자)                 | 방장 입장                        |
|--------------|--------------------------------------|---------------------------------|
| 모임 신청     | 신청(PENDING)                         | 신청 목록 확인 후 승인/거절       |
| 참여 승인     | 승인됨(APPROVED)                     |                                  |
| 모임 진행     | 출석(ATTENDED) or 불참(ABSENT)       | 출석 여부 판단 → 상태 전이 처리    |
| 후기 작성     | 참여자 간 서로 좋아요(Review 등록)    | 마이페이지에 후기 내역 반영됨       |

> ✔️ **리뷰는 한 사람에게 여러 번 좋아요 가능 vs 한 모임 한 번 제한 여부는 추후 논의**


---

## 🧠 회의 결론 및 느낀 점 요약

- 이번 회의는 **기능 흐름을 현실적으로 따라가며**, DB와 엔티티 구조를 동시에 정리한 매우 중요한 시점이었다.
- 특히 **모임 참여 상태 전이**와 **후기(좋아요) 흐름**을 명확히 정의하면서, 실제 서비스 운영에 필요한 데이터 흐름을 구체화했다.
- 테이블 정리 → JPA 매핑 → Enum 도입까지 설계가 유기적으로 이어졌으며,
  **실제 코드 구현까지 바로 이어질 수 있는 기반을 닦았다**는 점에서 큰 의미가 있다.

> 🙌 **이번 회의는 '유저 흐름'과 'DB 구조'를 동기화하는 훌륭한 설계 회의였다!**